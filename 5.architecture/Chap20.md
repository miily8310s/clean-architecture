# 第２０章 ビジネスルール

- アプリケーションをビジネスルールとプラグインに分割する場合、実際のビジネスルールがどのようなものかを把握しておいた方が良い
- ビジネスルール：ビジネスマネーを生み出したり節約したりするルールや手続きのこと
- **最重要ビジネスルール**： システムが自動化されていなくても存在する、ビジネスにとって欠かせないルール
- **最重要ビジネスルール**にはいくつかのデータ（= **最重要ビジネスデータ**）が必要になる
  - システムが自動化されていなくても存在するデータ
  - 例）ローンなら、貸付金残高・金利・支払いスケジュールなど
- **最重要ビジネスルール**/**最重要ビジネスデータ**は密接に結びついているため、オブジェクトの有力な候補（= **エンティティ**）となる

## エンティティ

- エンティティ：コンピュータシステムの内部にあるオブジェクト、**最重要ビジネスルール**/**最重要ビジネスデータ**をいくつか含んだもの
- エンティティは、データベース、ユーザーインターフェース、サードパーティ製のフレームワークについて、何も気にする必要はない

## ユースケース

- ユースケース：自動化されたシステムを使用する方法を記述したもの
  - **アプリケーション固有**のビジネスルールを記述している != **最重要ビジネスルール**
  - ユーザーから提供された入力、逆に返ってくる出力、出力を生成する処理ステップなどを規定
- システムのユーザーに対する見た目を記述するものでない
- ユーザーとエンティティの相互作用を支配するアプリケーション固有のルールを記述したもの
- ユースケースはエンティティに依存し、逆にエンティティはユースケースに依存しない

## まとめ

- ビジネスルールはそのままでいなければいけない
- ビジネスルールはシステムのなかで、最も独立していて、最も再利用可能なコードでなければいけない
