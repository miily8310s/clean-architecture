# 第１７章 バウンダリー：境界線を引く

- ソフトウェアアーキテクチャ：境界線を引く技芸（バウンダリー）
  - ソフトウェアの要素を分離し、お互いのことがわからないように制限するもの
- 早すぎる決定との**結合**はアーキテクトのパワーを奪う
- 早すぎる決定= システムのビジネス要件（ユースケース）と関係のない決定
  - 例）フレームワーク、データベースなどの決定
- 優れたシステムアーキテクチャは、このような決定を最終時点まで引き伸ばせる

## あなたの境界線は何か？ いつ境界線を引くのか？

- 境界線は「重要なもの」と「重要ではないもの」の間に引く
  - 例）GUI およびデータベース はビジネスルールにとって重要でないので、その間に境界線を引く
  - → データベースはビジネスルールが**間接的**に使用できるツール
  - → ビジネスルールはデータを取得・保存する機能が存在するということだけ知っていれば良い

TODO: ここに図を貼り付ける

## プラグインアーキテクチャ

- プラグインによって、スケーラブルで保守可能なシステムアーキテクチャを確立する
- コアとなるビジネスルールは、選択式またはその他の形式で実装されたコンポーネントから分離・独立している
  - この設計だと、ユーザーインターフェースはプラグインとして、様々な種類のインターフェースが使用可能に鳴る
  - データベースも同様

## プラグインの戦い

- 境界線は**変更の軸**がある（= それぞれ変更の頻度や理由が違う）ところに引く
  - GUI はビジネスルールと異なる時間や頻度で変更される → その愛台に境界線を引く
  - これも単一責任の原則（SPR）

## まとめ

- ソフトウェアアーキテクチャに境界線を引くためには、まずはシステムをコンポーネントに分割する
  - 必要な機能が含まれているその他のコンポーネントは、コアのビジネスに直接関係しないので、プラグインにする
  - 次にコンポーネントにコードを配置して、そこから一方向にコアのビジネスに向かって矢印を描く
- これは、依存関係逆転の原則（DIP）と安定度・抽象度等価の原則（SAP）を適用したもの
  - 依存症の矢印が詳細レベルから抽象レベルを指すように
